# A0108355H
###### Tasky/src/global/Task.java
``` java
    public Task(String name) {
        this.name = name;
    }

```
###### Tasky/src/global/Task.java
``` java
    public Task(String name, Calendar endingTime) {
        this.name = name;
        this.endingTime = endingTime;
    }

```
###### Tasky/src/global/Task.java
``` java
    public Task(String name, Calendar endingTime, String location) {
        this.name = name;
        this.endingTime = endingTime;
        this.location = location;
    }

```
###### Tasky/src/global/Task.java
``` java
    public Task(String name, Calendar startingTime, Calendar endingTime) {
        this.name = name;
        this.startingTime = startingTime;
        this.endingTime = endingTime;
    }

```
###### Tasky/src/global/Task.java
``` java
    public Task(String name, Calendar startingTime, Calendar endingTime,
            String location) {
        this.name = name;
        this.startingTime = startingTime;
        this.endingTime = endingTime;
        this.location = location;
    }

```
###### Tasky/src/global/Task.java
``` java
    public Task(String name, Calendar startingTime, Calendar endingTime,
            String location, String periodicInterval, String periodicRepeats) {
        this.name = name;
        this.startingTime = startingTime;
        this.endingTime = endingTime;
        this.location = location;
        this.periodicInterval = periodicInterval;
        this.periodicRepeats = periodicRepeats;
    }

```
###### Tasky/src/global/Task.java
``` java
    public Task() {

    }

    /*
     * Public methods
     */

```
###### Tasky/src/global/Task.java
``` java
    // returns the name of the task
    public String getName() {
        return name;
    }

    /**
     * return time in string format
     * 
     * @return time, format : year month Time hour minute (2014 06 04 24 24)
     * @SuppressWarnings("deprecation")
     */
```
###### Tasky/src/global/Task.java
``` java
    public Calendar getEndingTime() {
        return this.endingTime;
    }

```
###### Tasky/src/global/Task.java
``` java
    public Calendar getStartingTime() {
        return this.startingTime;
    }
    
    /**
     * Returns starting time if it not null,
     * else returns ending time (which may still be null)
     * 
     * This is mainly used to return the date this item is to be classified in
     * 
     * @return
     */
```
###### Tasky/src/global/Task.java
``` java
    public Calendar getTime() {
        if (hasStartingTime()) {
            return this.startingTime;
        } else {
            return this.endingTime;
        }
    }

```
###### Tasky/src/global/Task.java
``` java
    public String getLocation() {
        return this.location;
    }

```
###### Tasky/src/global/Task.java
``` java
    public String getAllInfo() {
        return "Name: " + name + " Starting time: " + this.startingTime
                + " Ending Time: " + this.getEndingTime() + " Location: "
                + this.location + " Period Interval: " + this.periodicInterval
                + " Period Repeats: " + this.periodicRepeats + " Done: " + this.isDone;
    }

```
###### Tasky/src/global/Task.java
``` java
    public boolean hasStartingTime() {
        if (this.startingTime == null) {
            return false;
        } else {
            return true;
        }
    }
    
```
###### Tasky/src/global/Task.java
``` java
    public boolean hasName() {
        if(this.name != null) {
            return true;
        } 
            return false;        
    }
    
```
###### Tasky/src/global/Task.java
``` java
    public boolean hasLocation() {
        if(this.location != null) {
            return true;
        }
        return false;
    }

```
###### Tasky/src/global/Task.java
``` java
    public boolean hasEndingTime() {
        if (this.endingTime == null) {
            return false;
        } else {
            return true;
        }
    }
    
```
###### Tasky/src/global/Task.java
``` java
    // change the name of the task
    public boolean setName(String newName) {
        this.name = newName;
        return true;
    }

```
###### Tasky/src/global/Task.java
``` java
    public boolean setEndingTime(Calendar endingTime) {
        this.endingTime = endingTime;
        return true;
    }

```
###### Tasky/src/global/Task.java
``` java
    public boolean setStartingTime(Calendar startingTime) {
        this.startingTime = startingTime;
        return true;
    }

```
###### Tasky/src/global/Task.java
``` java
    public boolean setLocation(String location) {
        this.location = location;
        return true;
    }

```
###### Tasky/src/global/Task.java
``` java
    public int compareTo(Task taskObj) {
        Calendar thisTime;
        Calendar objTime;
        if (this.hasStartingTime()) {
            thisTime = this.getStartingTime();
        } else {
            thisTime = this.getEndingTime();
        }

        if (taskObj.hasStartingTime()) {
            objTime = taskObj.getStartingTime();
        } else {
            objTime = taskObj.getEndingTime();
        }

        if (thisTime == null && objTime == null) {
            return 0;
        } else if (thisTime == null) {
            return -1;
        } else if (objTime == null) {
            return 1;
        } else {
            if (thisTime.before(objTime)) {
                return -1;
            } else if (thisTime.after(objTime)) {
                return 1;
            } else {
                return 0;
            }
        }
    }

}
```
###### Tasky/src/logic/TestLogicRedo.java
``` java
    @Before
    public void setup(){
        logicObject = new Logic();
        File saveFile = new File("save.txt");
        saveFile.delete();
    }

```
###### Tasky/src/logic/TestLogicRedo.java
``` java
    @Test
    public void logicRedoEmpty(){

        String message = logicObject.redoCommand();        
        assertEquals("Error: No history found.", message);
        

    }
    
```
###### Tasky/src/logic/TestLogicRedo.java
``` java
    @Test
    public void logicRedoadd(){
        ArrayList<Task> newTasks = new ArrayList<Task>();
        newTasks.add(new Task("item 1"));
        logicObject.addItem(newTasks, new ArrayList<Integer>(), true, true);
        logicObject.undoCommand();

        String message = logicObject.redoCommand();
        assertEquals("Redo : Deleted item(s) restored.", message);
        assertEquals("item 1", logicObject.listOfTasks.get(0).getName());
    }

```
###### Tasky/src/logic/TestLogicRedo.java
``` java
    @Test
    public void logicRedoMultipleDelete(){

        logicObject.listOfTasks = new ArrayList<Task>();
        logicObject.listOfTasks.add(new Task("some item 1"));
        logicObject.listOfTasks.add(new Task("some item 2"));    
        logicObject.listOfTasks.add(new Task("some item 3"));
        logicObject.listOfTasks.add(new Task("some item 4"));
        logicObject.listOfTasks.add(new Task("some item 5"));    
        logicObject.listOfTasks.add(new Task("some item 6"));
        
        ArrayList<Integer> indexList = new ArrayList<Integer>();
        
        indexList.add(0);
        indexList.add(2);
        indexList.add(1);
        
        logicObject.deleteItem(indexList, true, true);
    
        String message = logicObject.undoCommand();        
        assertEquals("Undo : Deleted item(s) restored.", message);
        assertEquals("some item 1", logicObject.listOfTasks.get(0).getName());
        assertEquals("some item 2", logicObject.listOfTasks.get(1).getName());
        assertEquals("some item 3", logicObject.listOfTasks.get(2).getName());
        assertEquals("some item 4", logicObject.listOfTasks.get(3).getName());
        assertEquals("some item 5", logicObject.listOfTasks.get(4).getName());
        assertEquals("some item 6", logicObject.listOfTasks.get(5).getName());
        logicObject.showUpdatedItems();
        message = logicObject.redoCommand();    
        assertEquals("Redo : Added item(s) removed.", message);
        

    }

```
###### Tasky/src/logic/TestLogicRedo.java
``` java
    @Test
    public void logicUndoEdit(){
        ArrayList<Task> listToEdit = new ArrayList<Task>();
        ArrayList<Integer> indexList = new ArrayList<Integer>();
        logicObject.listOfTasks.add(new Task("some item 2"));    
        logicObject.listOfTasks.add(new Task("some item 3"));
        
        indexList.add(0);
        listToEdit.add(new Task("New item 1"));

        logicObject.editItem(listToEdit, indexList, true, true);
        

        logicObject.undoCommand();
        String message = logicObject.redoCommand();        
        assertEquals("Redo : Reverted edits.", message);
        
        assertEquals("New item 1", logicObject.listOfTasks.get(0).getName());
        assertEquals("some item 3", logicObject.listOfTasks.get(1).getName());

    }
    
```
###### Tasky/src/logic/TestLogicRedo.java
``` java
    @After
    public void cleanup(){
        File saveFile = new File("save.txt");
        File anotherSaveFile = new File("anotherSave.txt");
        saveFile.delete();
        anotherSaveFile.delete();
    }
}
```
###### Tasky/src/logic/TestLogicUndo.java
``` java
    public void addHelper(Task newTask) {
        logicObject.listOfTasks.add(newTask);
        logicObject.listOfShownTasks.add(newTask);
    }
    
```
###### Tasky/src/logic/TestLogicUndo.java
``` java
    @Before
    public void setup(){
        logicObject = new Logic();
        File saveFile = new File("save.txt");
        saveFile.delete();
    }
    
```
###### Tasky/src/logic/TestLogicUndo.java
``` java
    //test undo without any next execution
    @Test
    public void logicUndoEmpty() throws Exception{
        String message = logicObject.undoCommand();
        assertEquals("Error: No history found.", message);
    }
    
```
###### Tasky/src/logic/TestLogicUndo.java
``` java
    //test undo before add
    @Test
    public void logicUndoAdd(){

        ArrayList<Task> newTasks = new ArrayList<Task>();
        newTasks.add(new Task("item 1"));
        logicObject.addItem(newTasks, new ArrayList<Integer>(), true, true);
        logicObject.showUpdatedItems();
        String message = logicObject.undoCommand();        
        assertEquals("Undo : Added item(s) removed.", message);
    }
```
###### Tasky/src/logic/TestLogicUndo.java
``` java
    //test undo before multiple delete
    @Test
    public void logicUndoMultipleDelete(){
        logicObject.listOfTasks = new ArrayList<Task>();
        logicObject.listOfTasks.add(new Task("some item 1"));
        logicObject.listOfTasks.add(new Task("some item 2"));    
        logicObject.listOfTasks.add(new Task("some item 3"));
        
        ArrayList<Integer> indexList = new ArrayList<Integer>();        

        indexList.add(0);
        indexList.add(2);
        indexList.add(1);
        
        logicObject.deleteItem(indexList, true, true);
        String message = logicObject.undoCommand();
        assertEquals("Undo : Deleted item(s) restored.", message);
    }
    
```
###### Tasky/src/logic/TestLogicUndo.java
``` java
    //test undo before edit
    @Test
    public void logicUndoEdit(){

        ArrayList<Task> listToEdit = new ArrayList<Task>();
        ArrayList<Integer> indexList = new ArrayList<Integer>();
        
        listToEdit.add(new Task("Old item 1"));
        logicObject.addItem(listToEdit, new ArrayList<Integer>(), true, true);

        indexList.add(0);
        listToEdit.clear();
        listToEdit.add(new Task("New item 1"));
        logicObject.editItem(listToEdit, indexList, true, true);

        String message = logicObject.undoCommand();        
        assertEquals("Undo : Reverted edits.", message);
        
        assertEquals("Old item 1", logicObject.listOfTasks.get(0).getName());
    }
    
    @After
    public void cleanup(){
    }
}
```
###### Tasky/src/logic/TestSystem.java
``` java
public class TestSystem {
    Logic logicObject = null;
    Parser parserObj = null;
    Storage storageObj = null;
    

```
###### Tasky/src/logic/TestSystem.java
``` java
    @Before
    public void setup(){
            parserObj = new Parser();
            File newSaveFile = new File("newsave.txt");
            newSaveFile.delete();
            File saveFile = new File("save.txt");
            saveFile.delete();
            logicObject = new Logic();
            storageObj = new JsonFormatStorage(true);
    }
    
    /*
     * pass string from parser to logic, test adding a simple task
     * test on logic side, check whether the logic process command correct or not
     */
```
###### Tasky/src/logic/TestSystem.java
``` java
    @Test
    public void testLogicParserSimpleAdd() throws Exception {

        Command commandObject = parserObj.parseCommand("add task1");
        
        String executionResult = logicObject.executeCommand(commandObject, true,
                true);
        assertEquals("Item(s) successfully added.",executionResult);
    }
    
    /*
     * pass string from parser to logic, test deleting a task
     * add task1 before testing
     * test on logic side, check whether the logic process command correct or not
     */
```
###### Tasky/src/logic/TestSystem.java
``` java
    @Test
    public void testLogicParserSimpleDelete() throws Exception {
        Command commandObject = parserObj.parseCommand("add task1");
        
        logicObject.executeCommand(commandObject, true,
                true);

        commandObject = parserObj.parseCommand("delete 1");
        logicObject.showUpdatedItems();
        String executionResult = logicObject.executeCommand(commandObject, true,
                true);
        assertEquals("Item(s) successfully deleted.",executionResult);
    }
    
    /*
     * pass string from parser to logic and than save in storage, test undo a task
     * followed by passing the result task to storage and test whether the result stored is correct or not
     * add task1 before testing
     */
```
###### Tasky/src/logic/TestSystem.java
``` java
    @Test
    public void testLogicParserStorageSimpleUndo() throws Exception {
        Command commandObject = parserObj.parseCommand("add task1");
        
        logicObject.executeCommand(commandObject, true,
                true);

        commandObject = parserObj.parseCommand("delete 1");
        logicObject.showUpdatedItems();
        logicObject.executeCommand(commandObject, true,
                true);
        
        commandObject = parserObj.parseCommand("undo");
        logicObject.showUpdatedItems();
        logicObject.executeCommand(commandObject, true,
                true);
        
        ArrayList<Task> listOfTasks = logicObject.listOfTasks;
        storageObj.writeItemList(listOfTasks);
        ArrayList<Task> message = storageObj.getItemList();
        String resultStr = "";
        
        resultStr = message.get(0).getAllInfo();
        assertEquals("Name: task1 Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: false",resultStr);
    }
    
    @Test
    public void testLogicParserStorageSimpleMark() throws Exception {
        Command commandObject = parserObj.parseCommand("add task1");
        
        logicObject.executeCommand(commandObject, true,
                true);

        commandObject = parserObj.parseCommand("mark 1");
        logicObject.showUpdatedItems();
        logicObject.executeCommand(commandObject, true,
                true);
        
        ArrayList<Task> listOfTasks = logicObject.listOfTasks;
        storageObj.writeItemList(listOfTasks);
        ArrayList<Task> message = storageObj.getItemList();
        String resultStr = "";
        
        resultStr = message.get(0).getAllInfo();
        assertEquals("Name: task1 Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: true",resultStr);
    }
    
    /*
     * pass string from parser to logic , test redo a task
     * followed by passing the result task to storage and test whether the result stored is correct or not
     * add task1, task2 before testing
     */
```
###### Tasky/src/logic/TestSystem.java
``` java
    @Test
    public void testLogicParserStorageSimpleRedo() throws Exception {
        Command commandObject = parserObj.parseCommand("add task1");
        
        logicObject.executeCommand(commandObject, true,
                true);
        
          commandObject = parserObj.parseCommand("add task2");
            
            logicObject.executeCommand(commandObject, true,
                    true);

        commandObject = parserObj.parseCommand("delete 1");
        logicObject.showUpdatedItems();
        logicObject.executeCommand(commandObject, true,
                true);
        
        commandObject = parserObj.parseCommand("undo");
        logicObject.showUpdatedItems();
        logicObject.executeCommand(commandObject, true,
                true);
        commandObject = parserObj.parseCommand("redo");
        logicObject.showUpdatedItems();
        logicObject.executeCommand(commandObject, true,
                true);
        
        ArrayList<Task> listOfTasks = logicObject.listOfTasks;
        storageObj.writeItemList(listOfTasks);
        ArrayList<Task> message = storageObj.getItemList();
        String resultStr = "";
        
        resultStr = message.get(0).getAllInfo();
        assertEquals("Name: task2 Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: false",resultStr);
    }
    
    /*
     * pass string from parser to logic, test deleting a task
     * followed by passing the result task to storage and test whether the result stored is correct or not
     * add task1 before testing
     */
```
###### Tasky/src/logic/TestSystem.java
``` java
    @Test
    public void testLogicParserStorageEditOne() throws Exception {
        Command commandObject = parserObj.parseCommand("add task1");
        
        logicObject.executeCommand(commandObject, true,
                true);

        commandObject = parserObj.parseCommand("edit 1 homework by next tuesday loc nus");
        logicObject.showUpdatedItems();
        logicObject.executeCommand(commandObject, true,
                true);
        ArrayList<Task> listOfTasks = logicObject.listOfTasks;
        storageObj.writeItemList(listOfTasks);
        ArrayList<Task> message = storageObj.getItemList();
        String resultStr = "";
        
        resultStr = message.get(0).getAllInfo();
        
            
        assertEquals("Name: homework Starting time: null Ending Time: java.util.GregorianCalendar[time=?,areFieldsSet=false,areAllFieldsSet=false,lenient=true,zone=sun.util.calendar.ZoneInfo[id=\"Asia/Singapore\",offset=28800000,dstSavings=0,useDaylight=false,transitions=9,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=?,YEAR=2015,MONTH=10,WEEK_OF_YEAR=?,WEEK_OF_MONTH=?,DAY_OF_MONTH=17,DAY_OF_YEAR=?,DAY_OF_WEEK=?,DAY_OF_WEEK_IN_MONTH=?,AM_PM=1,HOUR=11,HOUR_OF_DAY=23,MINUTE=59,SECOND=0,MILLISECOND=?,ZONE_OFFSET=?,DST_OFFSET=?] Location: nus Period Interval: null Period Repeats: null Done: false", resultStr);
    }
    
    /*
     * pass string from parser to logic, test editing a few tasks using special editing
     * followed by passing the result task to storage and test whether the result stored is correct or not
     * add task1,task2,task3 before testing
     */
```
###### Tasky/src/logic/TestSystem.java
``` java
    @Test
    public void testLogicParserStorageEditTwo() throws Exception {
        Command commandObject = parserObj.parseCommand("add task1");
        logicObject.executeCommand(commandObject, true,
                true);
        
        commandObject = parserObj.parseCommand("add task2");
        logicObject.executeCommand(commandObject, true,
                    true);
            
        commandObject = parserObj.parseCommand("add task3");
        logicObject.executeCommand(commandObject, true,
                        true);    
        
        logicObject.showUpdatedItems();
        commandObject = parserObj.parseCommand("edit 1 homework next tuesday loc nus every 2 days for 2");
        logicObject.executeCommand(commandObject, true,
                true);
        
         commandObject = parserObj.parseCommand("edit 1 loc nus");
            logicObject.executeCommand(commandObject, true,
                    true);
        
        
        ArrayList<Task> listOfTasks = logicObject.listOfTasks;
        storageObj.writeItemList(listOfTasks);
        ArrayList<Task> message = storageObj.getItemList();
        String resultStr = "";
        
        for( int i=0; i < listOfTasks.size(); i++ ) {
            resultStr += message.get(i).getAllInfo() +" ";
            }
    
        assertEquals("Name: homework next tuesday Starting time: null Ending Time: null Location: nus Period Interval: null Period Repeats: null Done: false Name: task2 Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: false Name: task3 Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: false ", resultStr);
    }
    
    
    /*
     * pass string from parser to logic, test deleting a task
     * followed by passing the result task to storage and test whether the result stored is correct or not
     * add 3 tasks before testing
     */
    @Test
    public void testLogicParserStorageDelete() throws Exception {
        Command commandObject = parserObj.parseCommand("add task1");
        logicObject.executeCommand(commandObject, true, true);
        commandObject = parserObj.parseCommand("add task2");
        logicObject.executeCommand(commandObject, true, true);
        commandObject = parserObj.parseCommand("add task3");
        logicObject.executeCommand(commandObject, true, true);
        

        commandObject = parserObj.parseCommand("edit 1 homework by next tuesday loc nus");
        logicObject.showUpdatedItems();
        logicObject.executeCommand(commandObject, true,
                true);
    
        ArrayList<Task> listOfTasks = logicObject.listOfTasks;
        storageObj.writeItemList(listOfTasks);
        ArrayList<Task> message = storageObj.getItemList();
        String resultStr = "";
        for (int i = 0; i < listOfTasks.size(); i++) {
            resultStr += message.get(i).getAllInfo() + " ";
        }
            
        assertEquals("Name: homework Starting time: null Ending Time: java.util.GregorianCalendar[time=?,areFieldsSet=false,areAllFieldsSet=false,lenient=true,zone=sun.util.calendar.ZoneInfo[id=\"Asia/Singapore\",offset=28800000,dstSavings=0,useDaylight=false,transitions=9,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=?,YEAR=2015,MONTH=10,WEEK_OF_YEAR=?,WEEK_OF_MONTH=?,DAY_OF_MONTH=17,DAY_OF_YEAR=?,DAY_OF_WEEK=?,DAY_OF_WEEK_IN_MONTH=?,AM_PM=1,HOUR=11,HOUR_OF_DAY=23,MINUTE=59,SECOND=0,MILLISECOND=?,ZONE_OFFSET=?,DST_OFFSET=?] Location: nus Period Interval: null Period Repeats: null Done: false Name: task2 Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: false Name: task3 Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: false ", resultStr);
    }
    
    /*
     * pass data from logic to storage to store file
     * test on storage side, whether the file stored is the correct one or not
    */
    @Test
    public void testLogicStorage() throws Exception {

        ArrayList<Task> listOfTasks = new ArrayList<Task>();
        Task task1 = new Task("task");
        listOfTasks.add(task1);
        storageObj.writeItemList(listOfTasks);
        ArrayList<Task> message = storageObj.getItemList();
        String resultStr = "";
        
        for(int i = 0; i < message.size(); i++){
            resultStr += message.get(i).getName();
        }
            
        assertEquals("task", resultStr);
    }
}
```
###### Tasky/src/parser/TestParser.java
``` java
    @Before
    public void setup(){
            parserObj = new Parser();
    }


```
###### Tasky/src/parser/TestParser.java
``` java
    //test add without a name
    @Test
    public void testParserAddEmptyName() {
        Command message;
        try {
            message = parserObj.parseCommand("add");
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            assertEquals("Error: Task name is empty.", e.getMessage());
        }
    
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    //test delete without a index
    @Test
    public void testParserDeleteEmptyName() {
        Command message;
        try {
            message = parserObj.parseCommand("delete");
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            assertEquals("Error: Task name is empty", e.getMessage());
        }
    
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    //test edit without argument
    @Test
    public void testParserEditEmptyName() {
        Command message;
        try {
            message = parserObj.parseCommand("edit");
        } catch (Exception e) {
            // TODO Auto-generated catch block
            //e.printStackTrace();
            assertEquals("Error: Invalid number of arguments.", e.getMessage());
        }
    
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    //test edit on special fields
    @Test
    public void testParserEditSpecial() throws Exception {
        Command message;

        message = parserObj.parseCommand("edit 1 every 2 days for 2");
        assertEquals("Name: null Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: false", message.getTask(0).getAllInfo());
        
    
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    //test edit with a new task of full arguments
    @Test
    public void testParserEditNormal() throws Exception {
        Command message;

        message = parserObj.parseCommand("edit 1 task1 loc nus by next friday"); // needs to change, next friday's always changes x.x
        String actual = "Name: task1 Starting time: null Ending Time: java.util.GregorianCalendar[time=?,areFieldsSet=false,areAllFieldsSet=false,lenient=true,zone=sun.util.calendar.ZoneInfo[id=\"Asia/Singapore\",offset=28800000,dstSavings=0,useDaylight=false,transitions=9,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=?,YEAR=2015,MONTH=10,WEEK_OF_YEAR=?,WEEK_OF_MONTH=?,DAY_OF_MONTH=13,DAY_OF_YEAR=?,DAY_OF_WEEK=?,DAY_OF_WEEK_IN_MONTH=?,AM_PM=1,HOUR=11,HOUR_OF_DAY=?,MINUTE=59,SECOND=?,MILLISECOND=?,ZONE_OFFSET=?,DST_OFFSET=?] Location: nus Period Interval: null Period Repeats null";
                assertEquals(actual, message.getTask(0).getAllInfo());
        
    
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    //test basic search
    @Test
    public void testParserSearch() throws Exception {
        Command message;

        message = parserObj.parseCommand("search task");
        String actual = "Name: task Starting time: null Ending Time: null Location: null Period Interval: null Period Repeats: null Done: false";
        assertEquals(actual, message.getTask(0).getAllInfo());
        
    
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    //test saveto
    @Test
    public void testParserSaveto() throws Exception {
        Command message;
        message = parserObj.parseCommand("saveto new.txt");
        String actual = "new.txt";
        assertEquals(actual, message.getArguments().get(0));    
    }
    

```
###### Tasky/src/parser/TestParser.java
``` java
    @Test
    public void testParserMark() throws Exception {
        Command message;
        message = parserObj.parseCommand("mark 1");
        String actual = "1";
        assertEquals(actual, message.getArguments().get(0));    
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    @Test
    public void testParserUnMark() throws Exception {
        Command message;
        message = parserObj.parseCommand("unmark 1");
        String actual = "1";
        assertEquals(actual, message.getArguments().get(0));    
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    @Test
    public void testParserAdd() throws Exception {
        Command message;
        Task task = new Task("task");
        Command cmd = new Command(Command.Type.ADD,task);
        message = parserObj.parseCommand("add task");
        assertEquals(true,cmd.compareTo(message) );
    }
    
```
###### Tasky/src/parser/TestParser.java
``` java
    @Test
    public void testParserDelete() throws Exception {
        Command message;
        Task task = new Task();
        Command cmd = new Command(Command.Type.DELETE,task);
        message = parserObj.parseCommand("delete 1");
        assertEquals("DELETE",message.getCommandType().toString());
    }
    

    @Test
    public void testParseDate() throws Exception {
        Calendar expectedDate = new GregorianCalendar();
        expectedDate.clear();
        expectedDate.set(2015, 8, 18);
        expectedDate.set(Calendar.HOUR, 23);
        expectedDate.set(Calendar.MINUTE, 59);
        
        String[] dateArgs = { "18", "sep", "2015"};
        Calendar date = parserObj.parseTime(dateArgs, false);
        
        assertEquals(expectedDate, date);
    }

    
    @Test
    public void testGetNearestDate(){
        Calendar date = new GregorianCalendar();
        int todayDate = date.get(Calendar.DATE);
        int today = date.get(Calendar.DAY_OF_WEEK);
        
        assertEquals(todayDate+(5-today)%7, parserObj.getNearestDate(5));
    }
}
```
###### Tasky/src/storage/JsonFormatStorage.java
``` java
    /* (non-Javadoc)
     * @see storage.Storage#saveFileToPath(java.lang.String)
     */
    @Override
    public boolean saveFileToPath(String path) throws IOException {
        boolean isFilePathChanged = false;
        
        File newFile = new File(path);
        
        String newFolderPath = "";
        if(path.indexOf("/") != -1) {
            newFolderPath = path.substring(0,path.lastIndexOf("/"));
        }
        if(path.indexOf("\\") != -1) {
            newFolderPath = path.substring(0,path.lastIndexOf("\\"));
        }
        if(!newFolderPath.equals("")) {
            File Folderpath = new File(newFolderPath);
            if(!Folderpath.exists()) {
                Folderpath.mkdirs();
            }
        }    
        
        if (!newFile.exists()) {
            //file is not yet created, try to create one
            newFile.createNewFile();
            copyFile(path, currentFilePath);
            currentFilePath = path;
            isFilePathChanged = true;
            logger.info("JsonFormat save file to new path: "+path);
        } else {
            //exist already, check whether it is the same file
            //with the current one
            if (!currentFilePath.equals(path)) {
                //copyFile(path, currentFilePath);
                // removed because the user might want to open an already existing data file
                currentFilePath = path;
                isFilePathChanged = true;
                logger.info("JsonFormat save file to new path: "+path);
            }
        }
    
        return isFilePathChanged;
    }
    
```
###### Tasky/src/storage/JsonFormatStorage.java
``` java
    //copy older saved file to newer saved file
    // @throw IOException
    private void copyFile(String newPath, String oldPath) throws IOException {
        FileReader fr = new FileReader(oldPath);
        FileWriter fw = new FileWriter(newPath);
        int c = fr.read();
        while (c != -1) {
            fw.write(c);
            c = fr.read(); // Add this line
        }
        fr.close();
        fw.close();
    }

```
###### Tasky/src/storage/JsonFormatStorage.java
``` java
    private String storeInfo(ArrayList<Task> list) {
        String loggerMsg = "";
        for (int i = 0; i < list.size(); i++) {
            loggerMsg += list.get(i).getAllInfo() + " ";
        }
        return loggerMsg;
    }
}
```
###### Tasky/src/storage/ManualFormatStorage.java
``` java
    @Override
    public boolean writeItemList(ArrayList<Task> task) throws IOException {
        String content = "";
        for (int i = 0; i < task.size(); i++) {
            Task curTask = task.get(i);
            if (curTask != null) {
                content += curTask.getName();
                if (curTask.getEndingTime() != null) {
                    content += ARGUMENTS_SEPARATOR + ARGUMENTS_DATE + sdf.format(task.get(i).getEndingTime().getTime());
                }
            }
            content += FILE_NEWLINE;
        }

        File file = new File(FILE_PATH);
        FileWriter fw = new FileWriter(file.getAbsoluteFile());
        BufferedWriter bw = new BufferedWriter(fw);
        bw.write(content);
        bw.close();
        return true;
    }

    /* (non-Javadoc)
     * @see storage.Storage#saveFileToPath(java.lang.String)
     */
```
###### Tasky/src/storage/ManualFormatStorage.java
``` java
    @Override
    public boolean saveFileToPath(String path) throws IOException {
        File file = new File(path);
        String newFolderPath = "";
        if (path.indexOf("/") != -1) {
            newFolderPath = path.substring(0,path.lastIndexOf("/"));
        }
        if (path.indexOf("\\") != -1) {
            newFolderPath = path.substring(0,path.lastIndexOf("\\"));
        }
        if (!newFolderPath.equals("")) {
            File Folderpath = new File(newFolderPath);
            if (!Folderpath.exists()) {
                Folderpath.mkdirs();
            }
        }

        if (!file.exists()) {
            file.createNewFile();
            FILE_PATH = path;
            return false;
        }
        FILE_PATH = path;
        return true;
    }

    /* (non-Javadoc)
     * @see storage.Storage#getItemList()
     */
```
###### Tasky/src/storage/ManualFormatStorage.java
``` java
    @Override
    public ArrayList<Task> getItemList() throws FileNotFoundException {
        File file = new File(FILE_PATH);
        Scanner sc = new Scanner(file);
        ArrayList<Task> taskList = new ArrayList<Task>();

        while (sc.hasNextLine()) {
            String nextLine = sc.nextLine();
            Task taskObj = new Task();
            if (nextLine.contains(ARGUMENTS_DATE)) {
                extractDate(nextLine, taskObj);
            } else {
                taskObj.setName(nextLine);
            }
            taskList.add(taskObj);
        }
        sc.close();
        return taskList;
    }
```
###### Tasky/src/storage/ManualFormatStorage.java
``` java
    public void extractDate(String arg, Task taskObj) { // might want to store the date differently, up to you
        String[] newArgs = arg.split(ARGUMENTS_DATE);
        Calendar calendarRead = new GregorianCalendar();
        try {
            calendarRead.setTime(sdf.parse(newArgs[1]));
        } catch (ParseException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        taskObj.setEndingTime(calendarRead);
        taskObj.setName(arg.split(ARGUMENTS_SEPARATOR)[0]);

    }
}
```
###### Tasky/src/storage/TestJsonFormatStorage.java
``` java
    @Before
    public void setup(){
        try {
            File newSaveFile = new File("newsave.txt");
            newSaveFile.delete();
            File saveFile = new File("save.txt");
            saveFile.delete();
            storageObject = new JsonFormatStorage(true);
            result = new ArrayList<Task>();
            
            String[] strArr = TEST_ITEMS.split(" ");
            for(int i = 0; i < strArr.length; i++){
                Task newTask = new Task(strArr[i]);
                result.add(newTask);
            }
            
            storageObject.writeItemList(result); // should manually write this in json
                                                // instead of calling the function
    
            /*
            BufferedWriter buffWriter = new BufferedWriter(new FileWriter(saveFile));
            buffWriter.write(TEST_ITEMS);
            buffWriter.close();
            */
        } catch (IOException e){
            e.printStackTrace();
        }
    
    }

```
###### Tasky/src/storage/TestJsonFormatStorage.java
``` java
    //test write tasks to file
    @Test
    public void testWriteItemList() throws IOException{
    //Task newTask = new Task("item 1");
        boolean message = storageObject.writeItemList(result);
        assertEquals(true, message);
    }

```
###### Tasky/src/storage/TestJsonFormatStorage.java
``` java
    //test save to new path
    @Test
    public void testSaveFileToPath() throws IOException{
        boolean message = storageObject.saveFileToPath("newsave.txt");
        assertEquals(true, message);
    }

```
###### Tasky/src/storage/TestJsonFormatStorage.java
``` java
    //test to get item from saved file
    @Test
    public void testGetItemList() throws IOException{
        ArrayList<Task> message = storageObject.getItemList();
        String resultStr = "";
        
        for(int i = 0; i < message.size(); i++){
            resultStr += message.get(i).getName();
        }
            
        assertEquals(TEST_ITEMS, resultStr);
    }

```
###### Tasky/src/storage/TestJsonFormatStorage.java
``` java
    @After
    public void cleanup(){
        File saveFile = new File("save.txt");
        File anotherSaveFile = new File("newsave.txt");
        saveFile.delete();
        anotherSaveFile.delete();
    }
}
```
###### Tasky/src/storage/TestManualFormatStorage.java
``` java
    @Before
    public void setup(){
        try {
            File newSaveFile = new File("newsave.txt");
            newSaveFile.delete();
            storageObject = new ManualFormatStorage();
            result = new ArrayList<Task>();
            String[] strArr = TEST_ITEMS.split(" ");
            for(int i = 0; i < strArr.length; i++){
                Task newTask = new Task(strArr[i]);
                result.add(newTask);
            }
    
            File saveFile = new File("save.txt");
            BufferedWriter buffWriter = new BufferedWriter(new FileWriter(saveFile));
            buffWriter.write(TEST_ITEMS);
            buffWriter.close();
        } catch (IOException e){
        
        }
    
    //File saveFile = new File("save.txt");
    //saveFile.delete();
    }
    
```
###### Tasky/src/storage/TestManualFormatStorage.java
``` java
    @Test
    public void testWriteItemList() throws IOException{
    //Task newTask = new Task("item 1");
        boolean message = storageObject.writeItemList(result);
        assertEquals(true, message);
    }
```
###### Tasky/src/storage/TestManualFormatStorage.java
``` java
    @Test
    public void testSaveFileToPath() throws IOException{
        boolean message = storageObject.saveFileToPath("newsave.txt");
        assertEquals(false, message);
    }
    
```
###### Tasky/src/storage/TestManualFormatStorage.java
``` java
    @Test
    public void testGetItemList() throws IOException{
    
        ArrayList<Task> message = storageObject.getItemList();
        String result = "";
        for(int i = 0; i < message.size(); i++){
            result += message.get(i).getName() + "\n";
        }
            
        assertEquals(TEST_ITEMS, result);
    }
    
```
###### Tasky/src/storage/TestManualFormatStorage.java
``` java
    @After
    public void cleanup(){
        File saveFile = new File("save.txt");
        File anotherSaveFile = new File("newsave.txt");
        saveFile.delete();
        anotherSaveFile.delete();
    }
}
```
###### Tasky/src/ui/RoundedBorder.java
``` java
    public RoundedBorder(Color c, int g) {
        color = c;
        gap = g;
    }

```
###### Tasky/src/ui/RoundedBorder.java
``` java
    @Override
    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {
        Graphics2D g2d = (Graphics2D) g.create();
        g2d.setColor(color);
        g2d.draw(new RoundRectangle2D.Double(x, y, width - 1, height - 1, gap, gap));
        g2d.dispose();
    }
    
```
###### Tasky/src/ui/RoundedBorder.java
``` java
    @Override
    public Insets getBorderInsets(Component c) {
        return (getBorderInsets(c, new Insets(gap, gap, gap, gap)));
    }
    
```
###### Tasky/src/ui/RoundedBorder.java
``` java
    @Override
    public Insets getBorderInsets(Component c, Insets insets) {
        insets.left = insets.top = insets.right = insets.bottom = gap / 2;
        return insets;
    }
    
```
###### Tasky/src/ui/RoundedBorder.java
``` java
    @Override
    public boolean isBorderOpaque() {
        return false;
    }
}
```
